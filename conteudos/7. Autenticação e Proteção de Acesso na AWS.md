## ğŸ” AutenticaÃ§Ã£o e ProteÃ§Ã£o de Acesso na AWS

A *autenticaÃ§Ã£o* e a *autorizaÃ§Ã£o* sÃ£o fundamentais para proteger recursos na AWS.  
A *autenticaÃ§Ã£o* valida **quem** estÃ¡ fazendo a solicitaÃ§Ã£o, enquanto a *autorizaÃ§Ã£o* define **o que** essa entidade pode acessar ou fazer nos recursos.

## ğŸ¦ Analogia BancÃ¡ria: Entendendo AutenticaÃ§Ã£o e AutorizaÃ§Ã£o

Pense em um banco que permite que clientes acessem suas contas on-line.

- Antes de acessar sua conta, o banco precisa garantir que **vocÃª Ã© vocÃª** â€” isso Ã© **autenticaÃ§Ã£o**.
- ApÃ³s entrar, vocÃª nÃ£o pode pagar uma conta usando o dinheiro da conta de outra pessoa â€” isso Ã© **autorizaÃ§Ã£o**.

Na prÃ¡tica:

- AutenticaÃ§Ã£o no banco â†’ login + senha  
- SeguranÃ§a adicional â†’ MFA (receber um cÃ³digo no celular)  
- AutorizaÃ§Ã£o â†’ vocÃª acessa apenas sua conta, nÃ£o a de outros clientes  

ğŸ‘‰ğŸ» Da mesma forma funciona na AWS.

## ğŸ›¡ï¸ AWS Identity and Access Management (IAM)

O **IAM** permite configurar controle granular de acesso aos recursos da AWS.

### CaracterÃ­sticas principais do IAM

- Ã‰ **seguro por padrÃ£o**: nenhuma identidade tem permissÃµes atÃ© que sejam concedidas.
- EstÃ¡ **integrado Ã  maioria dos serviÃ§os da AWS**.
- Oferece controle centralizado via **Console da AWS**.
- Suporta **federaÃ§Ã£o** (AD, provedores OIDC e SAML).
- Suporta **MFA**.
- Permite aplicar o **princÃ­pio de menor privilÃ©gio**.

## ğŸ§© Conceitos Fundamentais do IAM

<img width="1038" height="505" alt="image" src="https://github.com/user-attachments/assets/d8cb384a-b91d-4d29-8272-d0fbf7e58336" />

### ğŸ”¹ Recursos do IAM
SÃ£o objetos criados dentro do IAM:
- UsuÃ¡rios  
- Grupos  
- Perfis (Roles)  
- PolÃ­ticas  
- Provedores de identidade  

### ğŸ”¹ Entidades do IAM
Usadas para autenticaÃ§Ã£o:
- UsuÃ¡rios  
- Perfis  

Permitem login no console ou chamadas programÃ¡ticas via API/CLI.

### ğŸ”¹ Identidades do IAM
Objetos usados para identificaÃ§Ã£o e agrupamento:
- UsuÃ¡rios  
- Grupos  
- Perfis  

PolÃ­ticas podem ser anexadas a essas identidades.

### ğŸ”¹ Entidade Principal (Principal)
Ã‰ quem faz a solicitaÃ§Ã£o:
- UsuÃ¡rio-raiz  
- UsuÃ¡rio do IAM  
- Perfil do IAM  
- UsuÃ¡rios federados  
- AplicaÃ§Ãµes  

## ğŸ‘¥ Controle de Acesso com UsuÃ¡rios, Grupos e Perfis

<img width="1039" height="512" alt="image" src="https://github.com/user-attachments/assets/c97a454e-c669-4ca0-91dd-06281391af3b" />

### ğŸ”¹ UsuÃ¡rio do IAM
Representa uma pessoa ou aplicaÃ§Ã£o.  
Possui credenciais **permanentes** (senha e/ou chave de acesso).

### ğŸ”¹ Grupo do IAM
ColeÃ§Ã£o de usuÃ¡rios.  
Permite conceder permissÃµes a vÃ¡rios usuÃ¡rios de uma sÃ³ vez.

### ğŸ”¹ Perfil do IAM (Role)
Sem credenciais de longo prazo.  
Quando assumido, gera **credenciais temporÃ¡rias**.

### ğŸ”¹ PolÃ­tica do IAM
Documento JSON que define permissÃµes.  
Pode ser anexado a usuÃ¡rios, grupos e perfis.

## ğŸ”‘ Credenciais na AWS

### Para acessar o Console da AWS:
- Nome de usuÃ¡rio + senha

### Para acessar via CLI, SDK ou API:
- **Access Key ID + Secret Access Key**
- Senha **nÃ£o** funciona para esses casos.

## ğŸ›¡ï¸ PrÃ¡ticas Recomendadas de SeguranÃ§a

- **PrincÃ­pio de menor privilÃ©gio**
- **Ativar MFA**
- Usar **credenciais temporÃ¡rias** para usuÃ¡rios humanos (Identity Center)
- **Alternar chaves de acesso** regularmente
- Usar **senhas fortes**
- Proteger credenciais locais em gerenciadores seguros
- Usar o **AWS Organizations**
- Habilitar **AWS CloudTrail**
- Minimizar o uso do **usuÃ¡rio-raiz**

## ğŸ§‘â€ğŸ’» Protegendo o UsuÃ¡rio-Raiz

Trate o usuÃ¡rio-raiz como um dado ultra-sensÃ­vel.

### Uso recomendado:
- Ativar MFA
- UsÃ¡-lo apenas para tarefas que **somente o raiz** pode realizar

### CriaÃ§Ã£o de um usuÃ¡rio administrador (melhor prÃ¡tica)

<img width="1026" height="535" alt="image" src="https://github.com/user-attachments/assets/3af22770-18d3-4690-a0fb-cbb133a3e520" />

1. FaÃ§a login como usuÃ¡rio-raiz e configure a MFA.
2. Crie um usuÃ¡rio administrador e configure MFA nele.
3. Saia do usuÃ¡rio-raiz.
4. FaÃ§a login como o usuÃ¡rio administrador.
5. Crie os usuÃ¡rios da organizaÃ§Ã£o (cada um com sua polÃ­tica apropriada).

## ğŸ§© Exemplo de Estrutura de Grupos e PolÃ­ticas

**DescriÃ§Ã£o da imagem:**  
- PolÃ­tica IAM 1 anexada ao grupo "Vendas".  
- PolÃ­tica IAM 2 anexada ao grupo "TI".  
- UsuÃ¡rios 1 e 2 sÃ£o membros do grupo de Vendas.  
- UsuÃ¡rios 3, 4 e 5 sÃ£o membros do grupo de TI.

**ConclusÃ£o:**  
Um usuÃ¡rio herda as permissÃµes da polÃ­tica anexada ao grupo ao qual pertence.  
PolÃ­ticas adicionais podem ser anexadas diretamente ao usuÃ¡rio.

## ğŸ­ Perfis do IAM e Credenciais TemporÃ¡rias

Perfis permitem conceder permissÃµes **sem credenciais permanentes**.

SÃ£o usados quando:
- Um usuÃ¡rio precisa acessar temporariamente outra conta AWS.
- UsuÃ¡rios federados precisam acesso Ã  AWS.
- Aplicativos mÃ³veis precisam acessar a AWS (sem embutir chaves no app).
- AplicaÃ§Ãµes em EC2 precisam acessar serviÃ§os AWS.

### Funcionamento:
- O usuÃ¡rio assume um perfil
- Suas permissÃµes anteriores sÃ£o ignoradas temporariamente
- Ele recebe **credenciais temporÃ¡rias**

## ğŸ“˜ Casos de Uso de Perfis do IAM

<img width="963" height="476" alt="image" src="https://github.com/user-attachments/assets/b1e367f8-871d-42c3-a7f5-c1012f85eb4f" />

### 1ï¸âƒ£ UsuÃ¡rio do IAM da Conta 1 acessando instÃ¢ncia EC2
No primeiro caso de uso, um usuÃ¡rio do IAM na conta 1 da AWS precisa de acesso temporÃ¡rio a uma aplicaÃ§Ã£o executada em uma instÃ¢ncia do EC2.  
Primeiro, vocÃª cria uma polÃ­tica do IAM com as permissÃµes necessÃ¡rias.  
Depois, cria um perfil do IAM e anexa a polÃ­tica a ele.  
O usuÃ¡rio do IAM agora pode assumir o perfil e acessar a instÃ¢ncia do EC2.  
- Criar polÃ­tica â†’ criar perfil â†’ anexar polÃ­tica ao perfil  
- UsuÃ¡rio assume o perfil e acessa a EC2

### 2ï¸âƒ£ AplicaÃ§Ã£o em EC2 acessando um bucket S3
No segundo caso de uso, uma aplicaÃ§Ã£o executada em uma instÃ¢ncia do EC2 precisa de acesso a um bucket do S3.  
Depois de criar um perfil do IAM com as permissÃµes necessÃ¡rias, vocÃª adiciona o perfil a um perfil de instÃ¢ncia e o anexa Ã  instÃ¢ncia.  
Depois, a aplicaÃ§Ã£o pode acessar o bucket do S3.
- Criar perfil com permissÃµes  
- Anexar perfil ao perfil de instÃ¢ncia  
- AplicaÃ§Ã£o acessa o S3 sem credenciais locais

### 3ï¸âƒ£ Acesso entre contas (Conta 2 â†’ Conta 1)
No terceiro caso de uso, um usuÃ¡rio do IAM na conta 2 da AWS precisa acessar um bucket do S3 na conta 1 da AWS.  
VocÃª cria um perfil do IAM entre contas na conta 1 que define a conta 2 como uma entidade confiÃ¡vel.  
Um usuÃ¡rio do IAM na conta 2 pode entÃ£o alternar dos perfis para o perfil entre contas e acessar o bucket do S3 na conta 1.  
- Criar perfil entre contas na Conta 1  
- Conta 2 definida como entidade confiÃ¡vel  
- UsuÃ¡rio da Conta 2 alterna para o perfil  
- Acessa o bucket S3 na Conta 1

---

ğŸ‘‰ğŸ» [Clique aqui para voltar ao Readme](https://github.com/DrikaDev/Estudando-AWS-Solutions-Architect-Associate/blob/main/README.md) ğŸ“’
